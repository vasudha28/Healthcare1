import{r as i,j as e,V as Re,d as ke,e as Fe,C as Ie,X as Oe,T as Le,D as Me,P as js,f as Be,h as fs,S as Ns,u as K,i as ce,H as $e,k as bs,U as _e,l as te,m as de,L as Pe,M as vs,n as ve,o as ie,p as ys,q as ws,E as Ve,s as Ue,t as ze,v as Ge,I as Cs,w as He,x as qe,y as Ss,z as Ke,B as Ps,F as Je,G as Ts,J as Ye,K as Qe,N as Ds,O as As,Q as Es,W as We,Y as Rs,Z as ks,_ as Xe,$ as Ze,a0 as Fs,a1 as Is,a2 as Os,a3 as Ls,a4 as Te,a5 as Ms,a6 as Bs,a7 as $s,a8 as _s,a9 as Vs,aa as Us,ab as H,ac as zs,R as Gs}from"./react-vendor-BDMnRWCF.js";import{C as Hs,D as qs,E as me,F as Ks,$ as Js,G as z,R as ae,H as Ys,I as Qs,J as Ws,T as ne,K as De,L as ge,X as je,Y as fe,M as Ae,N as Xs,O as Zs,Q as et}from"./vendor-CRXVlmJ1.js";import"./radix-vendor-BA32w1ww.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const m of n)if(m.type==="childList")for(const l of m.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const m={};return n.integrity&&(m.integrity=n.integrity),n.referrerPolicy&&(m.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?m.credentials="include":n.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function r(n){if(n.ep)return;n.ep=!0;const m=t(n);fetch(n.href,m)}})();const st=1,tt=1e6;let Ne=0;function at(){return Ne=(Ne+1)%Number.MAX_SAFE_INTEGER,Ne.toString()}const be=new Map,Ee=s=>{if(be.has(s))return;const a=setTimeout(()=>{be.delete(s),se({type:"REMOVE_TOAST",toastId:s})},tt);be.set(s,a)},nt=(s,a)=>{switch(a.type){case"ADD_TOAST":return{...s,toasts:[a.toast,...s.toasts].slice(0,st)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(t=>t.id===a.toast.id?{...t,...a.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=a;return t?Ee(t):s.toasts.forEach(r=>{Ee(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return a.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(t=>t.id!==a.toastId)}}},le=[];let oe={toasts:[]};function se(s){oe=nt(oe,s),le.forEach(a=>{a(oe)})}function rt({...s}){const a=at(),t=n=>se({type:"UPDATE_TOAST",toast:{...n,id:a}}),r=()=>se({type:"DISMISS_TOAST",toastId:a});return se({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:n=>{n||r()}}}),{id:a,dismiss:r,update:t}}function ye(){const[s,a]=i.useState(oe);return i.useEffect(()=>(le.push(a),()=>{const t=le.indexOf(a);t>-1&&le.splice(t,1)}),[s]),{...s,toast:rt,dismiss:t=>se({type:"DISMISS_TOAST",toastId:t})}}function p(...s){return Hs(qs(s))}const it=js,es=i.forwardRef(({className:s,...a},t)=>e.jsx(Re,{ref:t,className:p("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...a}));es.displayName=Re.displayName;const lt=me("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ss=i.forwardRef(({className:s,variant:a,...t},r)=>e.jsx(ke,{ref:r,className:p(lt({variant:a}),s),...t}));ss.displayName=ke.displayName;const ot=i.forwardRef(({className:s,...a},t)=>e.jsx(Fe,{ref:t,className:p("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...a}));ot.displayName=Fe.displayName;const ts=i.forwardRef(({className:s,...a},t)=>e.jsx(Ie,{ref:t,className:p("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...a,children:e.jsx(Oe,{className:"h-4 w-4"})}));ts.displayName=Ie.displayName;const as=i.forwardRef(({className:s,...a},t)=>e.jsx(Le,{ref:t,className:p("text-sm font-semibold",s),...a}));as.displayName=Le.displayName;const ns=i.forwardRef(({className:s,...a},t)=>e.jsx(Me,{ref:t,className:p("text-sm opacity-90",s),...a}));ns.displayName=Me.displayName;function ct(){const{toasts:s}=ye();return e.jsxs(it,{children:[s.map(function({id:a,title:t,description:r,action:n,...m}){return e.jsxs(ss,{...m,children:[e.jsxs("div",{className:"grid gap-1",children:[t&&e.jsx(as,{children:t}),r&&e.jsx(ns,{children:r})]}),n,e.jsx(ts,{})]},a)}),e.jsx(es,{})]})}const dt=({...s})=>{const{theme:a="system"}=Ks();return e.jsx(Js,{theme:a,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})},mt=fs,xt=i.forwardRef(({className:s,sideOffset:a=4,...t},r)=>e.jsx(Be,{ref:r,sideOffset:a,className:p("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t}));xt.displayName=Be.displayName;const v=i.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:p("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a}));v.displayName="Card";const I=i.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:p("flex flex-col space-y-1.5 p-6",s),...a}));I.displayName="CardHeader";const O=i.forwardRef(({className:s,...a},t)=>e.jsx("h3",{ref:t,className:p("text-2xl font-semibold leading-none tracking-tight",s),...a}));O.displayName="CardTitle";const ht=i.forwardRef(({className:s,...a},t)=>e.jsx("p",{ref:t,className:p("text-sm text-muted-foreground",s),...a}));ht.displayName="CardDescription";const y=i.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:p("p-6 pt-0",s),...a}));y.displayName="CardContent";const pt=i.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:p("flex items-center p-6 pt-0",s),...a}));pt.displayName="CardFooter";const ut=me("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=i.forwardRef(({className:s,variant:a,size:t,asChild:r=!1,...n},m)=>{const l=r?Ns:"button";return e.jsx(l,{className:p(ut({variant:a,size:t,className:s})),ref:m,...n})});N.displayName="Button";const G=()=>{const s=K(),a=ce(),{toast:t}=ye(),[r,n]=i.useState(!1),m=localStorage.getItem("user"),l=m?JSON.parse(m):null,o=[{path:"/",label:"Dashboard",icon:bs},{path:"/add-patient",label:"Add Patient",icon:_e},{path:"/patients",label:"Patients",icon:te},{path:"/analytics",label:"Analytics",icon:de}],w=h=>a.pathname===h,j=()=>{localStorage.removeItem("user"),t({title:"Logged out",description:"You have been successfully logged out."}),s("/login")};return e.jsx("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:e.jsx($e,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"CareTrack"})]})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[o.map(h=>e.jsxs(N,{variant:w(h.path)?"default":"ghost",onClick:()=>s(h.path),className:p("flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200",w(h.path)?"bg-blue-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-blue-600"),children:[e.jsx(h.icon,{className:"h-4 w-4"}),e.jsx("span",{children:h.label})]},h.path)),l&&e.jsxs("div",{className:"flex items-center space-x-3 ml-4 pl-4 border-l border-gray-200",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Welcome, "}),e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:l.role})]}),e.jsxs(N,{variant:"outline",size:"sm",onClick:j,className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsx("div",{className:"md:hidden flex items-center",children:e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>n(!r),children:r?e.jsx(Oe,{className:"h-6 w-6"}):e.jsx(vs,{className:"h-6 w-6"})})})]}),r&&e.jsxs("div",{className:"md:hidden border-t border-gray-200 py-4 space-y-2",children:[o.map(h=>e.jsxs(N,{variant:w(h.path)?"default":"ghost",onClick:()=>{s(h.path),n(!1)},className:p("w-full justify-start flex items-center space-x-2 px-4 py-2",w(h.path)?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[e.jsx(h.icon,{className:"h-4 w-4"}),e.jsx("span",{children:h.label})]},h.path)),l&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-600",children:["Logged in as ",e.jsx("span",{className:"font-medium capitalize",children:l.role})]}),e.jsxs(N,{variant:"outline",onClick:j,className:"w-full justify-start flex items-center space-x-2 px-4 py-2 mt-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Logout"})]})]})]})]})})},re="https://healthcare1-h2mi.onrender.com",_={AUTH:{LOGIN:`${re}/api/auth/token`,REGISTER:`${re}/api/auth/register`},PATIENTS:{BASE:`${re}/api/patients`,BY_ID:s=>`${re}/api/patients/${s}`}},gt=()=>{const[s,a]=i.useState({totalPatients:0,todayVisits:0,activeCases:0,commonDiagnosis:"None",diagnosisStats:{topCondition:"None",topConditionCount:0,totalConditions:0,topThree:[]},genderDistribution:{male:0,female:0,other:0},ageDistribution:{under18:0,adult:0,senior:0}}),[t,r]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const o=await fetch(_.PATIENTS.BASE),w=await o.json();if(o.ok){const j=w.patients,h=new Date().toISOString().split("T")[0],b=j.filter(u=>new Date(u.created_at).toISOString().split("T")[0]===h).length,P=new Date;P.setDate(P.getDate()-30);const R=j.filter(u=>{var f;return(f=u.prescriptions)==null?void 0:f.some(x=>new Date(x.date)>P)}).length,M=j.map(u=>u.chronicConditions).filter(Boolean).join(",").split(",").map(u=>u.trim()).filter(Boolean),V=M.reduce((u,f)=>(u[f]=(u[f]||0)+1,u),{}),C=Object.entries(V).sort(([,u],[,f])=>f-u).slice(0,3),S={topCondition:C.length>0?C[0][0]:"None",topConditionCount:C.length>0?Number(C[0][1]):0,totalConditions:M.length,topThree:C.map(([u,f])=>({condition:u,count:Number(f),percentage:(Number(f)/j.length*100).toFixed(1)}))},D=j.reduce((u,f)=>(u[f.gender.toLowerCase()]=(u[f.gender.toLowerCase()]||0)+1,u),{male:0,female:0,other:0}),B=j.reduce((u,f)=>(f.age<18?u.under18++:f.age<60?u.adult++:u.senior++,u),{under18:0,adult:0,senior:0});a({totalPatients:j.length,todayVisits:b,activeCases:R,commonDiagnosis:S.topCondition,diagnosisStats:S,genderDistribution:D,ageDistribution:B})}else throw new Error(w.detail||"Failed to fetch metrics")}catch(o){console.error("Error fetching metrics:",o),z.error("Failed to load dashboard metrics")}finally{r(!1)}})()},[]);const n=l=>({blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",orange:"bg-orange-100 text-orange-600",purple:"bg-purple-100 text-purple-600",pink:"bg-pink-100 text-pink-600",indigo:"bg-indigo-100 text-indigo-600"})[l],m=[{title:"Total Patients",value:s.totalPatients.toString(),icon:te,change:`${(s.genderDistribution.female/s.totalPatients*100).toFixed(1)}% Female`,changeType:"neutral",color:"blue"},{title:"New Patients Today",value:s.todayVisits.toString(),icon:ve,change:`${(s.todayVisits/s.totalPatients*100).toFixed(1)}% of total`,changeType:"positive",color:"green"},{title:"Active Cases",value:s.activeCases.toString(),icon:ie,change:`${(s.activeCases/s.totalPatients*100).toFixed(1)}% of total`,changeType:"neutral",color:"orange"},{title:"Common Diagnosis",value:s.commonDiagnosis,icon:de,change:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top Condition:"}),e.jsx("span",{className:"font-medium",children:s.diagnosisStats.topCondition})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Patients with condition:"}),e.jsx("span",{className:"font-medium",children:s.diagnosisStats.topConditionCount})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Percentage:"}),e.jsxs("span",{className:"font-medium",children:[(s.diagnosisStats.topConditionCount/s.totalPatients*100).toFixed(1),"%"]})]}),s.diagnosisStats.topThree.length>1&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Other Common Conditions:"}),s.diagnosisStats.topThree.slice(1).map(({condition:l,count:o,percentage:w})=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[l,":"]}),e.jsxs("span",{children:[o," (",w,"%)"]})]},l))]})]}),changeType:"neutral",color:"purple"},{title:"Age Distribution",value:"Patient Groups",icon:ys,change:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Under 18:"}),e.jsx("span",{className:"font-medium",children:s.ageDistribution.under18})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Adults (18-59):"}),e.jsx("span",{className:"font-medium",children:s.ageDistribution.adult})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Seniors (60+):"}),e.jsx("span",{className:"font-medium",children:s.ageDistribution.senior})]})]}),changeType:"neutral",color:"pink"},{title:"Gender Distribution",value:"Patient Demographics",icon:ws,change:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Male:"}),e.jsx("span",{className:"font-medium",children:s.genderDistribution.male})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Female:"}),e.jsx("span",{className:"font-medium",children:s.genderDistribution.female})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Other:"}),e.jsx("span",{className:"font-medium",children:s.genderDistribution.other})]})]}),changeType:"neutral",color:"indigo"}];return t?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((l,o)=>e.jsx(v,{className:"animate-pulse",children:e.jsx(y,{className:"p-6",children:e.jsx("div",{className:"h-24 bg-gray-200 rounded"})})},o))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:m.map((l,o)=>e.jsx(v,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:l.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.value}),typeof l.change=="string"?e.jsxs("p",{className:`text-sm mt-1 ${l.changeType==="positive"?"text-green-600":l.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:[l.changeType!=="neutral"&&(l.changeType==="positive"?"↗":"↘")," ",l.change]}):e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:l.change})]}),e.jsx("div",{className:`p-3 rounded-full ${n(l.color)}`,children:e.jsx(l.icon,{className:"h-6 w-6"})})]})})},o))})},jt=()=>{const s=K(),[a,t]=i.useState([]),[r,n]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const w=await fetch(`${_.PATIENTS.BASE}/?limit=5`),j=await w.json();if(w.ok)t(j.patients);else throw new Error(j.detail||"Failed to fetch recent patients")}catch(w){console.error("Error fetching recent patients:",w),z.error("Failed to load recent patients")}finally{n(!1)}})()},[]);const m=o=>{s("/view-patient",{state:{patient:o}})},l=o=>{s("/add-patient",{state:{patient:o,isEditing:!0}})};return e.jsxs(v,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between",children:[e.jsx(O,{className:"text-xl font-semibold",children:"Recent Patients"}),e.jsx(N,{variant:"outline",onClick:()=>s("/patients"),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"View All"})]}),e.jsx(y,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Patient ID"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Age"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Gender"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Last Visit"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Condition"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-4 text-center text-gray-500",children:"Loading recent patients..."})}):a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-4 text-center text-gray-500",children:"No recent patients found"})}):a.map(o=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 font-medium text-blue-600",children:o.id}),e.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:o.name}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:o.age}),e.jsx("td",{className:"py-3 px-4 text-gray-600 capitalize",children:o.gender}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(o.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:o.chronicConditions||"None"}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>m(o),children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx(N,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>l(o),children:e.jsx(Ue,{className:"h-4 w-4"})})]})})]},o.id))})]})})})]})},ft=()=>{const s=K();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx(G,{}),e.jsxs("main",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to CareTrack"}),e.jsx("p",{className:"text-gray-600",children:"Healthcare Patient Management System - Dashboard Overview"})]}),e.jsx(gt,{}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx(v,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer border-l-4 border-l-blue-500",onClick:()=>s("/add-patient"),children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(_e,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Add New Patient"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Register a new patient"})]})]})})}),e.jsx(v,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer border-l-4 border-l-green-500",onClick:()=>s("/patients"),children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(te,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"View Patients"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Search and manage patients"})]})]})})}),e.jsx(v,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer border-l-4 border-l-purple-500",onClick:()=>s("/analytics"),children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:e.jsx(de,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View insights and reports"})]})]})})})]}),e.jsx(jt,{})]})]})},L=i.forwardRef(({className:s,type:a,...t},r)=>e.jsx("input",{type:a,className:p("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...t}));L.displayName="Input";const Nt=me("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),A=i.forwardRef(({className:s,...a},t)=>e.jsx(ze,{ref:t,className:p(Nt(),s),...a}));A.displayName=ze.displayName;const Z=i.forwardRef(({className:s,...a},t)=>e.jsx("textarea",{className:p("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a}));Z.displayName="Textarea";const we=Rs,Ce=ks,xe=i.forwardRef(({className:s,children:a,...t},r)=>e.jsxs(Ge,{ref:r,className:p("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[a,e.jsx(Cs,{asChild:!0,children:e.jsx(He,{className:"h-4 w-4 opacity-50"})})]}));xe.displayName=Ge.displayName;const rs=i.forwardRef(({className:s,...a},t)=>e.jsx(qe,{ref:t,className:p("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(Ss,{className:"h-4 w-4"})}));rs.displayName=qe.displayName;const is=i.forwardRef(({className:s,...a},t)=>e.jsx(Ke,{ref:t,className:p("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(He,{className:"h-4 w-4"})}));is.displayName=Ke.displayName;const he=i.forwardRef(({className:s,children:a,position:t="popper",...r},n)=>e.jsx(Ps,{children:e.jsxs(Je,{ref:n,className:p("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...r,children:[e.jsx(rs,{}),e.jsx(Ts,{className:p("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(is,{})]})}));he.displayName=Je.displayName;const bt=i.forwardRef(({className:s,...a},t)=>e.jsx(Ye,{ref:t,className:p("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a}));bt.displayName=Ye.displayName;const $=i.forwardRef(({className:s,children:a,...t},r)=>e.jsxs(Qe,{ref:r,className:p("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ds,{children:e.jsx(As,{className:"h-4 w-4"})})}),e.jsx(Es,{children:a})]}));$.displayName=Qe.displayName;const vt=i.forwardRef(({className:s,...a},t)=>e.jsx(We,{ref:t,className:p("-mx-1 my-1 h-px bg-muted",s),...a}));vt.displayName=We.displayName;const yt=()=>{var M,V;const s=K(),a=ce(),t=(M=a.state)==null?void 0:M.isEditing,r=(V=a.state)==null?void 0:V.patient,[n,m]=i.useState({name:"",age:"",gender:"",dob:"",phone:"",email:"",address:"",chronicConditions:"",allergies:"",notes:""}),[l,o]=i.useState([{date:"",medication:"",dosage:"",notes:""}]),[w,j]=i.useState([{date:"",department:"",doctor:""}]);i.useEffect(()=>{var C,T,S;t&&r&&(m({name:r.name||"",age:((C=r.age)==null?void 0:C.toString())||"",gender:r.gender||"",dob:r.dob||"",phone:r.phone||"",email:r.email||"",address:r.address||"",chronicConditions:r.chronicConditions||"",allergies:r.allergies||"",notes:r.notes||""}),((T=r.prescriptions)==null?void 0:T.length)>0&&o(r.prescriptions),((S=r.appointments)==null?void 0:S.length)>0&&j(r.appointments))},[t,r]);const h=C=>{m({...n,[C.target.name]:C.target.value})},b=C=>{m({...n,gender:C})},P=()=>{o([...l,{date:"",medication:"",dosage:"",notes:""}])},R=async C=>{if(C.preventDefault(),!n.name||!n.age||!n.gender||!n.phone){z.error("Please fill in all required fields");return}try{const T={...n,age:parseInt(n.age),prescriptions:l.filter(f=>f.medication),appointments:w.filter(f=>f.date)};let S=_.PATIENTS.BASE,D="POST";t&&(r!=null&&r.id)&&(S=_.PATIENTS.BY_ID(r.id),D="PUT");const B=await fetch(S,{method:D,headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),u=await B.json();if(!B.ok)throw new Error(u.detail||`Failed to ${t?"update":"add"} patient`);z.success(`Patient ${t?"updated":"added"} successfully`),s("/patients")}catch(T){console.error(`Error ${t?"updating":"adding"} patient:`,T),z.error(T instanceof Error?T.message:`Failed to ${t?"update":"add"} patient. Please try again.`)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx(G,{}),e.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsxs(N,{variant:"outline",onClick:()=>s(-1),className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t?"Edit Patient":"Add New Patient"})]}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs(v,{children:[e.jsx(I,{children:e.jsx(O,{className:"flex items-center space-x-2",children:e.jsx("span",{children:"Basic Information"})})}),e.jsxs(y,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(A,{htmlFor:"name",children:"Full Name *"}),e.jsx(L,{id:"name",name:"name",value:n.name,onChange:h,required:!0,className:"mt-1",placeholder:"Enter patient's full name"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"age",children:"Age *"}),e.jsx(L,{id:"age",name:"age",type:"number",value:n.age,onChange:h,required:!0,className:"mt-1",placeholder:"Enter age"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"gender",children:"Gender *"}),e.jsxs(we,{value:n.gender,onValueChange:b,required:!0,children:[e.jsx(xe,{className:"mt-1",children:e.jsx(Ce,{placeholder:"Select gender"})}),e.jsxs(he,{children:[e.jsx($,{value:"male",children:"Male"}),e.jsx($,{value:"female",children:"Female"}),e.jsx($,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"dob",children:"Date of Birth"}),e.jsx(L,{id:"dob",name:"dob",type:"date",value:n.dob,onChange:h,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"phone",children:"Phone Number *"}),e.jsx(L,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:h,required:!0,className:"mt-1",placeholder:"(555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"email",children:"Email"}),e.jsx(L,{id:"email",name:"email",type:"email",value:n.email,onChange:h,className:"mt-1",placeholder:"patient@email.com"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(A,{htmlFor:"address",children:"Address"}),e.jsx(Z,{id:"address",name:"address",value:n.address,onChange:h,className:"mt-1",placeholder:"Enter full address",rows:2})]})]})]}),e.jsxs(v,{children:[e.jsx(I,{children:e.jsx(O,{children:"Medical History"})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(A,{htmlFor:"chronicConditions",children:"Chronic Conditions"}),e.jsx(Z,{id:"chronicConditions",name:"chronicConditions",value:n.chronicConditions,onChange:h,className:"mt-1",placeholder:"List any chronic conditions (diabetes, hypertension, etc.)",rows:2})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"allergies",children:"Allergies"}),e.jsx(Z,{id:"allergies",name:"allergies",value:n.allergies,onChange:h,className:"mt-1",placeholder:"List any known allergies",rows:2})]})]})]}),e.jsxs(v,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between",children:[e.jsx(O,{children:"Current Prescriptions"}),e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:P,className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Prescription"})]})]}),e.jsx(y,{className:"space-y-4",children:l.map((C,T)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(A,{children:"Date"}),e.jsx(L,{type:"date",value:C.date,onChange:S=>{const D=[...l];D[T].date=S.target.value,o(D)},className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(A,{children:"Medication"}),e.jsx(L,{value:C.medication,onChange:S=>{const D=[...l];D[T].medication=S.target.value,o(D)},className:"mt-1",placeholder:"Medication name"})]}),e.jsxs("div",{children:[e.jsx(A,{children:"Dosage"}),e.jsx(L,{value:C.dosage,onChange:S=>{const D=[...l];D[T].dosage=S.target.value,o(D)},className:"mt-1",placeholder:"e.g., 10mg twice daily"})]}),e.jsxs("div",{children:[e.jsx(A,{children:"Notes"}),e.jsx(L,{value:C.notes,onChange:S=>{const D=[...l];D[T].notes=S.target.value,o(D)},className:"mt-1",placeholder:"Additional notes"})]})]},T))})]}),e.jsxs(v,{children:[e.jsx(I,{children:e.jsx(O,{children:"Doctor Notes"})}),e.jsx(y,{children:e.jsxs("div",{children:[e.jsx(A,{htmlFor:"notes",children:"Notes"}),e.jsx(Z,{id:"notes",name:"notes",value:n.notes,onChange:h,className:"mt-1",placeholder:"Enter any additional notes or observations",rows:3})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>s("/patients"),children:"Cancel"}),e.jsxs(N,{type:"submit",className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700",children:[e.jsx(Fs,{className:"h-4 w-4"}),e.jsx("span",{children:t?"Update Patient":"Save Patient"})]})]})]})]})]})},wt=me("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ls({className:s,variant:a,...t}){return e.jsx("div",{className:p(wt({variant:a}),s),...t})}const os=i.forwardRef(({className:s,...a},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:p("w-full caption-bottom text-sm",s),...a})}));os.displayName="Table";const cs=i.forwardRef(({className:s,...a},t)=>e.jsx("thead",{ref:t,className:p("[&_tr]:border-b",s),...a}));cs.displayName="TableHeader";const ds=i.forwardRef(({className:s,...a},t)=>e.jsx("tbody",{ref:t,className:p("[&_tr:last-child]:border-0",s),...a}));ds.displayName="TableBody";const Ct=i.forwardRef(({className:s,...a},t)=>e.jsx("tfoot",{ref:t,className:p("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a}));Ct.displayName="TableFooter";const ee=i.forwardRef(({className:s,...a},t)=>e.jsx("tr",{ref:t,className:p("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a}));ee.displayName="TableRow";const U=i.forwardRef(({className:s,...a},t)=>e.jsx("th",{ref:t,className:p("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a}));U.displayName="TableHead";const F=i.forwardRef(({className:s,...a},t)=>e.jsx("td",{ref:t,className:p("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a}));F.displayName="TableCell";const St=i.forwardRef(({className:s,...a},t)=>e.jsx("caption",{ref:t,className:p("mt-4 text-sm text-muted-foreground",s),...a}));St.displayName="TableCaption";function q({className:s,...a}){return e.jsx("div",{className:p("animate-pulse rounded-md bg-muted",s),...a})}const Pt=()=>{const s=K(),[a,t]=i.useState([]),[r,n]=i.useState([]),[m,l]=i.useState(""),[o,w]=i.useState("all"),[j,h]=i.useState(1),[b,P]=i.useState(!0),[R,M]=i.useState(1),[V,C]=i.useState(null),T=10,S=async()=>{try{P(!0);const d=await fetch(`${_.PATIENTS.BASE}/?page=${j}&search=${m}&gender=${o}`),k=await d.json();if(d.ok)t(k.patients),n(k.patients),M(k.total_pages);else throw new Error(k.detail||"Failed to fetch patients")}catch(d){console.error("Error fetching patients:",d),C(d instanceof Error?d.message:"Failed to fetch patients")}finally{P(!1)}};i.useEffect(()=>{S()},[j,m,o]);const D=async d=>{if(window.confirm("Are you sure you want to delete this patient?"))try{console.log("Attempting to delete patient with ID:",d);const k=await fetch(_.PATIENTS.BY_ID(d),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!k.ok){const J=await k.json();throw new Error(J.detail||"Failed to delete patient")}t(a.filter(J=>J.id!==d)),n(r.filter(J=>J.id!==d)),z.success("Patient deleted successfully")}catch(k){console.error("Error deleting patient:",k),z.error(k instanceof Error?k.message:"Failed to delete patient")}},B=d=>{s("/view-patient",{state:{patient:d}})},u=d=>{s("/add-patient",{state:{patient:d,isEditing:!0}})};i.useEffect(()=>{const d=()=>{S()};return window.addEventListener("popstate",d),()=>{window.removeEventListener("popstate",d)}},[j,m]);const f=j*T,x=f-T,E=r.slice(x,f);return b?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx(G,{}),e.jsx("main",{className:"max-w-7xl mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-600",children:"Loading patients..."})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx(G,{}),e.jsxs("main",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Patients"}),e.jsx("p",{className:"text-gray-600",children:"Manage and search patient records"})]}),e.jsxs(N,{onClick:()=>s("/add-patient"),className:"mt-4 md:mt-0 bg-blue-600 hover:bg-blue-700 flex items-center space-x-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),e.jsx("span",{children:"Add New Patient"})]})]}),e.jsx(v,{className:"mb-6",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Is,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"Search by name, ID, or condition...",value:m,onChange:d=>l(d.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Os,{className:"h-4 w-4 text-gray-400"}),e.jsxs(we,{value:o,onValueChange:w,children:[e.jsx(xe,{className:"w-32",children:e.jsx(Ce,{placeholder:"Gender"})}),e.jsxs(he,{children:[e.jsx($,{value:"all",children:"All Genders"}),e.jsx($,{value:"male",children:"Male"}),e.jsx($,{value:"female",children:"Female"}),e.jsx($,{value:"other",children:"Other"})]})]})]})]})})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-gray-600",children:["Showing ",E.length," of ",r.length," patients"]})}),e.jsx(v,{children:e.jsxs(y,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(os,{children:[e.jsx(cs,{children:e.jsxs(ee,{children:[e.jsx(U,{children:"Name"}),e.jsx(U,{children:"Age"}),e.jsx(U,{children:"Gender"}),e.jsx(U,{children:"Phone"}),e.jsx(U,{children:"Conditions"}),e.jsx(U,{children:"Date"}),e.jsx(U,{children:"Actions"})]})}),e.jsx(ds,{children:b?Array.from({length:5}).map((d,k)=>e.jsxs(ee,{children:[e.jsx(F,{children:e.jsx(q,{className:"h-4 w-[200px]"})}),e.jsx(F,{children:e.jsx(q,{className:"h-4 w-[50px]"})}),e.jsx(F,{children:e.jsx(q,{className:"h-4 w-[80px]"})}),e.jsx(F,{children:e.jsx(q,{className:"h-4 w-[120px]"})}),e.jsx(F,{children:e.jsx(q,{className:"h-4 w-[180px]"})}),e.jsx(F,{children:e.jsx(q,{className:"h-4 w-[100px]"})}),e.jsx(F,{children:e.jsx(q,{className:"h-4 w-[80px]"})})]},k)):E.length===0?e.jsx(ee,{children:e.jsx(F,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No patients found"})}):E.map(d=>e.jsxs(ee,{className:"hover:bg-gray-50",children:[e.jsx(F,{className:"font-medium",children:d.name}),e.jsx(F,{children:d.age}),e.jsx(F,{children:e.jsx(ls,{variant:"outline",className:"capitalize",children:d.gender})}),e.jsx(F,{children:d.phone}),e.jsx(F,{children:d.chronicConditions||"None"}),e.jsx(F,{children:new Date(d.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})}),e.jsx(F,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>B(d),className:"h-8 w-8 text-blue-600 hover:text-blue-700",children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>u(d),className:"h-8 w-8 text-yellow-600 hover:text-yellow-700",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>D(d.id),className:"h-8 w-8 text-red-600 hover:text-red-700",children:e.jsx(Ls,{className:"h-4 w-4"})})]})})]},d.id))})]})}),E.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No patients found matching your criteria."})})]})}),!b&&R>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[e.jsx(N,{variant:"outline",onClick:()=>h(d=>Math.max(d-1,1)),disabled:j===1,children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",j," of ",R]}),e.jsx(N,{variant:"outline",onClick:()=>h(d=>Math.min(d+1,R)),disabled:j===R,children:"Next"})]})]})]})},Tt=()=>{var r;const s=ce(),a=K(),t=(r=s.state)==null?void 0:r.patient;return t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx(G,{}),e.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsxs(N,{variant:"outline",onClick:()=>a(-1),className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Details"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{children:[e.jsx(I,{children:e.jsx(O,{children:"Basic Information"})}),e.jsxs(y,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Patient ID"}),e.jsx("p",{className:"mt-1",children:t.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Name"}),e.jsx("p",{className:"mt-1",children:t.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Age"}),e.jsx("p",{className:"mt-1",children:t.age})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gender"}),e.jsx("p",{className:"mt-1",children:e.jsx(ls,{variant:"outline",className:"capitalize",children:t.gender})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),e.jsx("p",{className:"mt-1",children:t.dob||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"mt-1",children:t.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1",children:t.email||"Not specified"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"mt-1",children:t.address||"Not specified"})]})]})]}),e.jsxs(v,{children:[e.jsx(I,{children:e.jsx(O,{children:"Medical Information"})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Chronic Conditions"}),e.jsx("p",{className:"mt-1",children:t.chronicConditions||"None"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Allergies"}),e.jsx("p",{className:"mt-1",children:t.allergies||"None"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"mt-1",children:t.notes||"No additional notes"})]})]})]}),e.jsxs(v,{children:[e.jsx(I,{children:e.jsx(O,{children:"Current Prescriptions"})}),e.jsx(y,{children:t.prescriptions&&t.prescriptions.length>0?e.jsx("div",{className:"space-y-4",children:t.prescriptions.map((n,m)=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"mt-1",children:new Date(n.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Medication"}),e.jsx("p",{className:"mt-1",children:n.medication})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Dosage"}),e.jsx("p",{className:"mt-1",children:n.dosage})]}),n.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"mt-1",children:n.notes})]})]})},m))}):e.jsx("p",{className:"text-gray-500",children:"No prescriptions found"})})]}),e.jsxs(v,{children:[e.jsx(I,{children:e.jsx(O,{children:"Appointments"})}),e.jsx(y,{children:t.appointments&&t.appointments.length>0?e.jsx("div",{className:"space-y-4",children:t.appointments.map((n,m)=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"mt-1",children:new Date(n.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Department"}),e.jsx("p",{className:"mt-1",children:n.department})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Doctor"}),e.jsx("p",{className:"mt-1",children:n.doctor})]})]})},m))}):e.jsx("p",{className:"text-gray-500",children:"No appointments found"})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(N,{variant:"outline",onClick:()=>a("/patients"),children:"Back to List"}),e.jsx(N,{onClick:()=>a("/add-patient",{state:{patient:t}}),className:"bg-blue-600 hover:bg-blue-700",children:"Edit Patient"})]})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx(G,{}),e.jsx("main",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500",children:"Patient not found"}),e.jsx(N,{variant:"outline",onClick:()=>a("/patients"),className:"mt-4",children:"Back to Patients"})]})})]})},Dt=()=>{var T,S,D,B,u,f;const[s,a]=i.useState(!0),[t,r]=i.useState([]),[n,m]=i.useState([]),[l,o]=i.useState([]),[w,j]=i.useState([]),[h,b]=i.useState([]),[P,R]=i.useState([]);i.useEffect(()=>{(async()=>{try{const E=await fetch(_.PATIENTS.BASE),d=await E.json();if(E.ok)r(d.patients),M(d.patients);else throw new Error(d.detail||"Failed to fetch analytics data")}catch(E){console.error("Error fetching analytics:",E),z.error("Failed to load analytics data")}finally{a(!1)}})()},[]);const M=x=>{const d=x.map(c=>c.chronicConditions).filter(Boolean).join(",").split(",").map(c=>c.trim()).filter(Boolean).reduce((c,g)=>(c[g]=(c[g]||0)+1,c),{}),k=Object.entries(d).map(([c,g])=>({name:c,value:Number((g/x.length*100).toFixed(1)),patients:g})).sort((c,g)=>g.value-c.value),ms=x.flatMap(c=>c.prescriptions||[]).map(c=>c.medication).filter(Boolean).reduce((c,g)=>(c[g]=(c[g]||0)+1,c),{}),xs=Object.entries(ms).map(([c,g])=>({name:c,prescriptions:g})).sort((c,g)=>g.prescriptions-c.prescriptions).slice(0,6),Y={"0-18":0,"19-30":0,"31-50":0,"51-70":0,"70+":0};x.forEach(c=>{c.age<=18?Y["0-18"]++:c.age<=30?Y["19-30"]++:c.age<=50?Y["31-50"]++:c.age<=70?Y["51-70"]++:Y["70+"]++});const hs=Object.entries(Y).map(([c,g])=>({range:c,count:g,percentage:(g/x.length*100).toFixed(1)})),ps=x.reduce((c,g)=>{const W=new Date(g.created_at).toLocaleString("default",{month:"short"});return c[W]=(c[W]||0)+1,c},{}),pe=Object.entries(ps).map(([c,g])=>({month:c,visits:g})).sort((c,g)=>{const W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return W.indexOf(c.month)-W.indexOf(g.month)}),Se=k[0]||{name:"None",value:0},us=x.reduce((c,g)=>c+g.age,0)/x.length,ue=new Date;ue.setMonth(ue.getMonth()-1);const gs=(x.filter(c=>new Date(c.created_at)>=ue).length/x.length*100).toFixed(1),Q=pe.reduce((c,g)=>g.visits>c.visits?g:c,pe[0]);m(k),o(xs),j(hs),b(pe),R([{title:"Most Common Condition",value:Se.name,percentage:`${Se.value}%`,icon:ie,color:"blue"},{title:"Average Patient Age",value:`${us.toFixed(1)} years`,change:`Based on ${x.length} patients`,icon:te,color:"green"},{title:"Monthly Growth",value:`${gs}%`,change:"New patient registrations",icon:de,color:"purple"},{title:"Peak Visit Month",value:(Q==null?void 0:Q.month)||"N/A",change:`${(Q==null?void 0:Q.visits)||0} total visits`,icon:ve,color:"orange"}])},V=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#6B7280"],C=x=>({blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",orange:"bg-orange-100 text-orange-600",purple:"bg-purple-100 text-purple-600"})[x];return s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx(G,{}),e.jsx("main",{className:"max-w-7xl mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx(G,{}),e.jsxs("main",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Healthcare insights and patient statistics"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:P.map((x,E)=>e.jsx(v,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:x.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.value}),x.change&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.change}),x.percentage&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[x.percentage," of all cases"]})]}),e.jsx("div",{className:`p-3 rounded-full ${C(x.color)}`,children:e.jsx(x.icon,{className:"h-6 w-6"})})]})})},E))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(v,{children:[e.jsx(I,{children:e.jsxs(O,{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Patient Conditions Distribution"})]})}),e.jsx(y,{children:e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Ys,{children:[e.jsx(Qs,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,value:E})=>`${x}: ${E}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((x,E)=>e.jsx(Ws,{fill:V[E%V.length]},`cell-${E}`))}),e.jsx(ne,{formatter:x=>[`${x}%`,"Percentage"]})]})})})]}),e.jsxs(v,{children:[e.jsx(I,{children:e.jsxs(O,{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Top Prescribed Medications"})]})}),e.jsx(y,{children:e.jsx(ae,{width:"100%",height:300,children:e.jsxs(De,{data:l,layout:"horizontal",children:[e.jsx(ge,{strokeDasharray:"3 3"}),e.jsx(je,{type:"number"}),e.jsx(fe,{dataKey:"name",type:"category",width:80}),e.jsx(ne,{formatter:x=>[x,"Prescriptions"]}),e.jsx(Ae,{dataKey:"prescriptions",fill:"#10B981",radius:[0,4,4,0]})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(I,{children:e.jsxs(O,{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:"Patient Age Distribution"})]})}),e.jsx(y,{children:e.jsx(ae,{width:"100%",height:300,children:e.jsxs(De,{data:w,children:[e.jsx(ge,{strokeDasharray:"3 3"}),e.jsx(je,{dataKey:"range"}),e.jsx(fe,{}),e.jsx(ne,{formatter:x=>[`${x} patients`,"Count"]}),e.jsx(Ae,{dataKey:"count",fill:"#8B5CF6",radius:[4,4,0,0]})]})})})]}),e.jsxs(v,{children:[e.jsx(I,{children:e.jsxs(O,{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{children:"Monthly Patient Registrations"})]})}),e.jsx(y,{children:e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Xs,{data:h,children:[e.jsx(ge,{strokeDasharray:"3 3"}),e.jsx(je,{dataKey:"month"}),e.jsx(fe,{}),e.jsx(ne,{formatter:x=>[x,"New Patients"]}),e.jsx(Zs,{type:"monotone",dataKey:"visits",stroke:"#F59E0B",fill:"#FEF3C7",strokeWidth:2})]})})})]})]}),e.jsxs(v,{className:"mt-8",children:[e.jsx(I,{children:e.jsx(O,{children:"Key Insights"})}),e.jsx(y,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Condition Trends"}),e.jsxs("p",{className:"text-blue-700 text-sm",children:[((T=n[0])==null?void 0:T.name)||"No conditions"," is the most common condition, affecting ",((S=n[0])==null?void 0:S.value)||0,"% of patients. Consider implementing prevention programs."]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Medication Usage"}),e.jsxs("p",{className:"text-green-700 text-sm",children:[((D=l[0])==null?void 0:D.name)||"No medications"," is the most prescribed medication with ",((B=l[0])==null?void 0:B.prescriptions)||0," prescriptions. Monitor for potential drug interactions."]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Patient Demographics"}),e.jsxs("p",{className:"text-purple-700 text-sm",children:["The largest age group is ",((u=w[0])==null?void 0:u.range)||"N/A"," with",((f=w[0])==null?void 0:f.count)||0," patients. Consider age-specific care protocols."]})]})]})})]})]})]})},At=()=>{const s=K(),{toast:a}=ye(),[t,r]=i.useState(!1),[n,m]=i.useState({username:"",email:"",password:"",role:""}),[l,o]=i.useState(!1),w=[{value:"doctor",label:"Doctor"},{value:"nurse",label:"Nurse"},{value:"receptionist",label:"Receptionist"},{value:"admin",label:"Admin"}],j=async b=>{if(b.preventDefault(),!n.email||!n.password||!n.role){a({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}o(!0);try{if(t){if(!n.username){a({title:"Error",description:"Username is required for registration",variant:"destructive"});return}const P=await fetch(_.AUTH.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"omit",body:JSON.stringify({username:n.username,email:n.email,password:n.password})});if(!P.ok){const R=await P.json();throw new Error(R.detail||"Registration failed")}a({title:"Success",description:"Registration successful! Please login."}),r(!1)}else{const P=await fetch(_.AUTH.LOGIN,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"omit",body:new URLSearchParams({username:n.email,password:n.password})});if(!P.ok){const M=await P.json();throw new Error(M.detail||"Login failed")}const R=await P.json();localStorage.setItem("token",R.access_token),localStorage.setItem("user",JSON.stringify({email:n.email,role:n.role,isAuthenticated:!0})),a({title:"Success",description:`Welcome back, ${n.role}!`}),s("/")}}catch(P){a({title:"Error",description:P.message||"An error occurred",variant:"destructive"})}finally{o(!1)}},h=(b,P)=>{m(R=>({...R,[b]:P}))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx("div",{className:"bg-blue-600 p-3 rounded-xl",children:e.jsx($e,{className:"h-8 w-8 text-white"})}),e.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"CareTrack"})]}),e.jsx("p",{className:"text-gray-600",children:"Healthcare Patient Management System"})]}),e.jsxs(v,{className:"shadow-2xl border-0",children:[e.jsxs(I,{className:"space-y-1 pb-6",children:[e.jsx(O,{className:"text-2xl font-bold text-center text-gray-900",children:t?"Create Account":"Staff Login"}),e.jsx("p",{className:"text-center text-gray-600",children:t?"Register for a new account":"Access your healthcare dashboard"})]}),e.jsx(y,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{id:"username",type:"text",placeholder:"Choose a username",value:n.username,onChange:b=>h("username",b.target.value),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Select Role"}),e.jsxs(we,{onValueChange:b=>h("role",b),children:[e.jsx(xe,{className:"w-full",children:e.jsx(Ce,{placeholder:"Choose your role"})}),e.jsx(he,{children:w.map(b=>e.jsx($,{value:b.value,children:b.label},b.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Username or Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{id:"email",name:"email",type:"text",placeholder:"Enter your email",value:n.email,onChange:b=>h("email",b.target.value),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{id:"password",type:"password",placeholder:"Enter your password",value:n.password,onChange:b=>h("password",b.target.value),className:"pl-10",required:!0})]})]}),e.jsx(N,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3",disabled:l,children:l?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:t?"Registering...":"Signing in..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx("span",{children:t?"Register":"Sign In"})]})}),e.jsx("div",{className:"text-center pt-4",children:e.jsx(N,{type:"button",variant:"link",className:"text-blue-600 hover:text-blue-700",onClick:()=>r(!t),children:t?"Already have an account? Sign in":"Don't have an account? Register"})}),!t&&e.jsx("div",{className:"text-center",children:e.jsx(N,{type:"button",variant:"link",className:"text-blue-600 hover:text-blue-700",onClick:()=>{a({title:"Password Reset",description:"Password reset functionality will be implemented with backend integration."})},children:"Forgot your password?"})})]})})]}),e.jsx(v,{className:"mt-6 bg-blue-50 border-blue-200",children:e.jsxs(y,{className:"pt-6",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Demo Credentials"}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," any@email.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Password:"})," any password"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," Select any role"]})]})]})})]})})},Et=()=>{const s=ce();return i.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},X=({children:s})=>{const a=localStorage.getItem("user");return(a?JSON.parse(a).isAuthenticated:!1)?e.jsx(e.Fragment,{children:s}):e.jsx($s,{to:"/login",replace:!0})},Rt=new et,kt=()=>e.jsx(_s,{client:Rt,children:e.jsxs(mt,{children:[e.jsx(ct,{}),e.jsx(dt,{}),e.jsx(Vs,{children:e.jsxs(Us,{children:[e.jsx(H,{path:"/login",element:e.jsx(At,{})}),e.jsx(H,{path:"/",element:e.jsx(X,{children:e.jsx(ft,{})})}),e.jsx(H,{path:"/add-patient",element:e.jsx(X,{children:e.jsx(yt,{})})}),e.jsx(H,{path:"/patients",element:e.jsx(X,{children:e.jsx(Pt,{})})}),e.jsx(H,{path:"/view-patient",element:e.jsx(X,{children:e.jsx(Tt,{})})}),e.jsx(H,{path:"/analytics",element:e.jsx(X,{children:e.jsx(Dt,{})})}),e.jsx(H,{path:"*",element:e.jsx(Et,{})})]})})]})});zs.createRoot(document.getElementById("root")).render(e.jsx(Gs.StrictMode,{children:e.jsx(kt,{})}));
